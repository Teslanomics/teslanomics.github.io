<!DOCTYPE html>
<html>
  <head>
    <script>
      function getQueryVariable(variable)
      {
             var query = window.location.search.substring(1);
             var vars = query.split("&");
             for (var i=0;i<vars.length;i++) {
                     var pair = vars[i].split("=");
                     if(pair[0] == variable){return pair[1];}
             }
             return(false);
      }

      function resizeIframe(obj) {
        obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
      }

      document.addEventListener("DOMContentLoaded", function(event) {

        // get source url
        hc = getQueryVariable("hc");


        ///// JAVASCRIPT METHOD /////
        // create elements
        var hcContainer = document.createElement("div");
        hcContainer.id = 'highcharts-'+hc;
        hcContainer.setAttribute('onload','resizeIframe(this)');

        var hcScript = document.createElement("script");
        hcScript.src = '//cloud.highcharts.com/inject/'+hc;
        hcScript.setAttribute('defer', 'defer');

        // add script to container div
        hcContainer.appendChild(hcScript);

        ///// IFRAME METHOD /////
        // get height
        h = document.body.scrollHeight + 'px';

        // create elements
        var iframe = document.createElement("iframe");
        iframe.class = 'highcharts-iframe';
        iframe.src = '//cloud.highcharts.com/embed/' + hc;
        iframe.style = 'border: 0; width: 100%; height: ' + h;

        // add to page
        var resp = document.getElementById("container");
        // resp.appendChild(hcContainer);
        resp.appendChild(iframe);

      });


    </script>
  </head>
  <body>

    <div id='container'></div>
    <!-- <div id='highcharts-epufuqo'><script src='//cloud.highcharts.com/inject/epufuqo' defer='defer'></script></div> -->

    <!-- <iframe class='highcharts-iframe' src='//cloud.highcharts.com/embed/epufuqo' style='border: 0; width: 100%; height: 500px'></iframe> -->




  </body>
</html>
