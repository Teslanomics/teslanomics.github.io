---
layout: page-no-title
title: Model 3 Cost Estimate from Teslanomics
permalink: "/model3estimate"
published: true
---
<style>

:root {
	--form-bg-color: white;
	--font-color: #474747;
	--submit-color: #E85454;
	--submit-color-darker: #00824A;
	--submit-font-color: #fff;

}

.full-width {
	width:100%;
	padding: 10px;
}

#summaryTable tbody th {
   font-size: 24px;
	 font-weight: lighter;
}

#estimate {
	background-color: #fff;
	color: #474747;
}

.banner {
	height: 60px;
	width: 100%;
	max-width: 600px;
	border: none;
	background-color: var(--submit-color);
	color: var(--submit-font-color);
	text-transform: uppercase;
	font-family: 'Source Sans Pro', sans-serif;
	padding: 0 20px;
	border-radius: 5px;
	font-weight: 900;
	cursor: pointer;
	margin: 20px 0;
}

</style>


<script>

	function toCur(n, currency) {
	    return currency + " " + n.toFixed(0).replace(/./g, function(c, i, a) {
	        return i > 0 && c !== "." && (a.length - i) % 3 === 0 ? "," + c : c;
	    });
	}

	function getQueryVariable(variable)
	{
	       var query = window.location.search.substring(1);
	       var vars = query.split("&");
	       for (var i=0;i<vars.length;i++) {
	               var pair = vars[i].split("=");
	               if(pair[0] == variable){return pair[1];}
	       }
	       return(false);
	}

	function fillTable(tableID) {

		if(tableID=='summaryTable') {

			var table = document.getElementById(tableID);

			//table header
			var header = table.createTHead();
			//subtotal
			var r1 = header.insertRow(0);
			var r1c1 = r1.insertCell(0);
			//tax credit
			var r1c2 = r1.insertCell(1);
			//total
			var r1c3 = r1.insertCell(2);

			r1c1.innerHTML = "SubTotal";
			r1c2.innerHTML = "Tax Credit";
			r1c3.innerHTML = "Total";

			//table details
			var r2 = table.insertRow(1);
			var r2c1 = r2.insertCell(0);
			var r2c2 = r2.insertCell(1);
			var r2c3 = r2.insertCell(2);

			//get amounts
			r2c1.innerHTML = toCur(+subTotal,"$");
			r2c2.innerHTML = toCur(+taxCredit,"$");
			r2c3.innerHTML = toCur(+total,"$");

		}

	}

	function loadCar(carColor, carWheel){

		//load car color
		carImg = '/images/m3/' + carColor + '-' + carWheel + '.png'

		console.log(carImg);

		document.getElementById('carImg').src=carImg;
	}

	document.addEventListener( 'DOMContentLoaded', function () {

			subTotal = 0;
			total = 0;

			//get all query vars
			carColor = getQueryVariable("color");
			carWheel = getQueryVariable("wheel");
			batteryCost = getQueryVariable("battery");
			taxCredit = getQueryVariable("taxCredit");
			autopilotCost = getQueryVariable("autopilot");
			premiumCost = getQueryVariable("premium");
			wheelCost = getQueryVariable("wheelCost");
			paintCost = getQueryVariable("paintCost");

			//calculate totals
			subTotal += +batteryCost + +autopilotCost + +premiumCost + +wheelCost + +paintCost;
			total += +subTotal + +taxCredit;

	    fillTable('summaryTable');
			loadCar(carColor, carWheel);


	}, false );
</script>
<div id="estimate">
	<div class="banner">Your Model 3</div>
	<div id="summary">
		<table id="summaryTable" width="100%"></table>
	</div>
	<div id="carImgContainer">
			<img id="carImg" src="/images/m3/blur.png"
				style="width:95%; max-width:850px; margin:5px; background-color:#fff; padding:5px;"
			/>
	</div>
	<div id="details">
		<table id="detailTable" width="100%"></table>
	</div>
</div>
